window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".first__btn"),t=document.querySelector(".modal"),n=t.querySelector(".modal__btn-close"),r=t.querySelector(".form__salary-input"),s=t.querySelector(".form__input-error-mess"),l=t.querySelector(".form__row-count"),c=t.querySelector(".form__result"),o=t.querySelector(".result-box"),a=document.querySelector(".currency");function u(e){e.classList.remove("show"),e.classList.add("hide")}function i(e){e.classList.add("show"),e.classList.remove("hide")}function d(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}e.addEventListener("click",()=>i(t)),n.addEventListener("click",()=>u(t)),t.addEventListener("click",e=>{e.target===t&&u(t)}),document.addEventListener("keydown",e=>{"Escape"===e.code&&t.classList.contains("show")&&u(t)});var p;(p=r).addEventListener("input",({target:e})=>{!function(e){"INPUT"===e.tagName&&(e.value=e.value.replace(/[^\?0-9]/g,"")),e.value}(e),function(e,t){let n=String(e).length;if(n){i(t);let e=24+9*n+"px";t.style.left=e}else u(t)}(e.value,a),e.value=d(p.value)}),l.addEventListener("click",e=>{var t,n;e.preventDefault(),n="form__input--error",(t=r).value.length?(t.classList.remove(n),u(s)):(t.classList.add(n),i(s));const l=parseInt(r.value.split(" ").join("")),a=12*l*.13;l&&i(c);const p=function(e){let t=26e4,n=[];for(;t>e;)t-=e,n.push(e);return n.push(t),n}(a),m=document.createElement("ul");m.classList.add("form__result-list"),p.forEach((e,t)=>{const n=function(e,t){const n=document.createElement("li");return n.classList.add("form__result-item"),n.innerHTML=1!==e?`\n            <input class="form__resul-checkbox" type="checkbox" id="input-${e}" name="result-input-${e}">\n            <label class="form__resul-label" for="input-${e}">${d(t)} рублей <span>в ${e+1}-й год</span></label>\n        `:`\n            <input class="form__resul-checkbox" type="checkbox" id="input-${e}" name="result-input-${e}">\n            <label class="form__resul-label" for="input-${e}">${d(t)} рублей <span>во ${e+1}-й год</span></label>\n        `,n}(t,e);m.append(n)}),o.innerHTML="",o.append(m)})});